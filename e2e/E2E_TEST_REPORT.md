# E2E Test Report

**생성일**: 2026-01-21
**프로젝트**: Travel Planner
**테스트 프레임워크**: Playwright
**브라우저**: Chromium

---

## 요약

| 항목 | 값 |
|------|-----|
| **총 테스트 수** | 71 |
| **통과** | 71 ✅ |
| **실패** | 0 |
| **스킵** | 0 |
| **실행 시간** | ~55초 |
| **통과율** | 100% |

---

## 테스트 파일별 결과

### 1. 랜딩 페이지 (`landing.spec.ts`) - 12 tests ✅

| # | 테스트명 | 결과 |
|---|---------|------|
| 1 | 페이지 타이틀이 올바르게 표시된다 | ✅ |
| 2 | 헤더에 서비스 이름이 표시된다 | ✅ |
| 3 | 헤더에 로그인 버튼이 표시된다 | ✅ |
| 4 | 로그인 버튼 클릭 시 로그인 페이지로 이동한다 | ✅ |
| 5 | 히어로 섹션 텍스트가 표시된다 | ✅ |
| 6 | 서비스 설명 텍스트가 표시된다 | ✅ |
| 7 | "무료로 시작하기" CTA 버튼이 표시된다 | ✅ |
| 8 | "무료로 시작하기" 버튼 클릭 시 로그인 페이지로 이동한다 | ✅ |
| 9 | 기능 소개 카드 3개가 표시된다 | ✅ |
| 10 | 스크린샷 업로드 기능 설명이 표시된다 | ✅ |
| 11 | AI 자동 추출 기능 설명이 표시된다 | ✅ |
| 12 | 지도 시각화 기능 설명이 표시된다 | ✅ |

---

### 2. 로그인 페이지 (`login.spec.ts`) - 9 tests ✅

| # | 테스트명 | 결과 |
|---|---------|------|
| 1 | 페이지 타이틀이 올바르게 표시된다 | ✅ |
| 2 | 서비스명이 표시된다 | ✅ |
| 3 | 서비스 설명이 표시된다 | ✅ |
| 4 | Google 로그인 버튼이 표시된다 | ✅ |
| 5 | Google 로그인 버튼에 Google 아이콘이 있다 | ✅ |
| 6 | 이용약관 동의 안내 텍스트가 표시된다 | ✅ |
| 7 | Google 로그인 버튼 클릭 시 OAuth 플로우가 시작된다 | ✅ |
| 8 | 인증되지 않은 상태에서 /projects 접근 시 로그인 페이지로 리다이렉트된다 | ✅ |
| 9 | callbackUrl 파라미터가 올바르게 설정된다 | ✅ |

---

### 3. 프로젝트 목록 - 미인증 (`projects.spec.ts`) - 3 tests ✅

| # | 테스트명 | 결과 |
|---|---------|------|
| 1 | 미인증 접근 시 로그인 페이지로 리다이렉트된다 | ✅ |
| 2 | 리다이렉트 시 callbackUrl이 포함된다 | ✅ |
| 3 | 프로젝트 상세 미인증 접근 시 로그인 페이지로 리다이렉트된다 | ✅ |

---

### 4. 프로젝트 목록 - 인증됨 (`projects-auth.spec.ts`) - 12 tests ✅

| # | 테스트명 | 결과 |
|---|---------|------|
| 1 | 페이지 제목이 표시된다 | ✅ |
| 2 | 서브 설명이 표시된다 | ✅ |
| 3 | 새 프로젝트 버튼이 표시된다 | ✅ |
| 4 | 프로젝트 카드가 표시된다 | ✅ |
| 5 | 프로젝트 카드에 장소/이미지 수가 표시된다 | ✅ |
| 6 | 새 프로젝트 버튼 클릭 시 Dialog가 열린다 | ✅ |
| 7 | Dialog에 필수 입력 필드가 있다 | ✅ |
| 8 | 필수 필드가 비어있으면 생성 버튼이 비활성화된다 | ✅ |
| 9 | 취소 버튼 클릭 시 Dialog가 닫힌다 | ✅ |
| 10 | 프로젝트 정보 입력 후 생성 버튼이 활성화된다 | ✅ |
| 11 | 프로젝트 생성 후 Dialog가 닫힌다 | ✅ |
| 12 | 프로젝트가 없을 때 빈 상태 UI가 표시된다 | ✅ |

---

### 5. 프로젝트 상세 페이지 (`project-detail.spec.ts`) - 17 tests ✅

| # | 테스트명 | 결과 |
|---|---------|------|
| 1 | 프로젝트 이름이 표시된다 | ✅ |
| 2 | 여행지와 국가가 표시된다 | ✅ |
| 3 | 공유 버튼이 표시된다 | ✅ |
| 4 | 장소 목록 헤더가 표시된다 | ✅ |
| 5 | 장소 개수가 표시된다 | ✅ |
| 6 | 장소 이름들이 표시된다 | ✅ |
| 7 | 카테고리 필터 버튼이 표시된다 | ✅ |
| 8 | 이미지 탭이 기본 선택되어 있다 | ✅ |
| 9 | 텍스트 탭이 표시된다 | ✅ |
| 10 | URL 탭이 표시된다 | ✅ |
| 11 | 이미지 업로드 영역이 표시된다 | ✅ |
| 12 | 텍스트 탭 클릭 시 텍스트 입력 폼이 표시된다 | ✅ |
| 13 | URL 탭 클릭 시 URL 입력 폼이 표시된다 | ✅ |
| 14 | 공유 버튼 클릭 시 모달이 열린다 | ✅ |
| 15 | 공유 토글이 표시된다 | ✅ |
| 16 | 공유 토글 활성화 시 공유 URL이 표시된다 | ✅ |
| 17 | pending 이미지가 있으면 이미지 분석 버튼이 표시된다 | ✅ |

---

### 6. 공유 페이지 - 에러/로딩 (`share.spec.ts`) - 4 tests ✅

| # | 테스트명 | 결과 |
|---|---------|------|
| 1 | 존재하지 않는 토큰으로 접근 시 에러 페이지가 표시된다 | ✅ |
| 2 | 빈 토큰으로 접근 시 에러 페이지가 표시된다 | ✅ |
| 3 | 페이지 로딩 중 로딩 인디케이터가 표시된다 | ✅ |
| 4 | "내 프로젝트로 복사" 클릭 시 미인증이면 로그인 유도된다 | ✅ |

---

### 7. 공유 페이지 - 유효한 토큰 (`share-auth.spec.ts`) - 14 tests ✅

| # | 테스트명 | 결과 |
|---|---------|------|
| 1 | 프로젝트 이름이 표시된다 | ✅ |
| 2 | 여행지와 국가가 표시된다 | ✅ |
| 3 | "공유된 여행 계획" 배지가 표시된다 | ✅ |
| 4 | "내 프로젝트로 복사" 버튼이 표시된다 | ✅ |
| 5 | 장소 목록 제목이 표시된다 | ✅ |
| 6 | 장소 개수가 표시된다 | ✅ |
| 7 | 장소 이름들이 표시된다 | ✅ |
| 8 | 카테고리 필터가 표시된다 | ✅ |
| 9 | 카테고리 필터 클릭 시 필터링된다 | ✅ |
| 10 | 장소 카드에 상세 버튼이 있다 | ✅ |
| 11 | 평점이 표시된다 | ✅ |
| 12 | Google Maps 링크가 표시된다 | ✅ |
| 13 | "내 프로젝트로 복사" 클릭 시 복제된다 | ✅ |
| 14 | 푸터 텍스트가 표시된다 | ✅ |

---

## 테스트 커버리지 영역

### 페이지별 커버리지

| 페이지 | 경로 | 테스트 수 | 커버리지 |
|--------|------|-----------|----------|
| 랜딩 페이지 | `/` | 12 | UI 요소, 네비게이션, CTA |
| 로그인 페이지 | `/login` | 9 | UI 요소, OAuth 플로우, 리다이렉트 |
| 프로젝트 목록 | `/projects` | 15 | 인증/미인증, CRUD, 빈 상태 |
| 프로젝트 상세 | `/projects/[id]` | 17 | 헤더, 장소 목록, 입력 탭, 공유 |
| 공유 페이지 | `/s/[token]` | 18 | 유효/무효 토큰, 복제, 필터 |

### 기능별 커버리지

| 기능 | 테스트 수 | 상태 |
|------|-----------|------|
| 인증 (로그인/로그아웃) | 12 | ✅ |
| 프로젝트 CRUD | 12 | ✅ |
| 장소 목록/필터 | 10 | ✅ |
| 이미지/텍스트/URL 입력 | 6 | ✅ |
| 공유 기능 | 16 | ✅ |
| 에러 처리 | 4 | ✅ |
| 네비게이션 | 6 | ✅ |

---

## 테스트 환경 설정

### Playwright 설정
- **테스트 디렉토리**: `./e2e`
- **브라우저**: Chromium (Desktop Chrome)
- **베이스 URL**: `http://localhost:3000`
- **병렬 실행**: 4 workers
- **스크린샷**: 실패 시에만
- **트레이스**: 첫 번째 재시도 시

### 인증 처리
E2E 테스트에서는 실제 OAuth 인증 대신 다음 방식으로 인증을 처리합니다:

1. **E2E 테스트 모드**: `E2E_TEST_MODE=true` 환경 변수
2. **테스트 헤더**: `x-e2e-test: true` HTTP 헤더로 미들웨어 우회
3. **API 모킹**: `/api/auth/session` 등 인증 관련 API 모킹

---

## 실행 방법

```bash
# 모든 E2E 테스트 실행
npm run test:e2e

# UI 모드로 실행 (디버깅용)
npm run test:e2e:ui

# 브라우저 창과 함께 실행
npm run test:e2e:headed

# HTML 리포트 보기
npx playwright show-report
```

---

## 테스트 파일 구조

```
e2e/
├── fixtures/
│   └── auth.ts           # 인증 fixture 및 API 모킹
├── landing.spec.ts       # 랜딩 페이지 테스트 (12)
├── login.spec.ts         # 로그인 페이지 테스트 (9)
├── projects.spec.ts      # 프로젝트 미인증 테스트 (3)
├── projects-auth.spec.ts # 프로젝트 인증 테스트 (12)
├── project-detail.spec.ts # 프로젝트 상세 테스트 (17)
├── share.spec.ts         # 공유 페이지 에러/로딩 테스트 (4)
└── share-auth.spec.ts    # 공유 페이지 인증 테스트 (14)
```

---

## HTML 리포트

상세한 테스트 결과는 HTML 리포트에서 확인할 수 있습니다:

```bash
npx playwright show-report
```

리포트 위치: `playwright-report/index.html`

---

## 결론

모든 71개의 E2E 테스트가 성공적으로 통과했습니다. 주요 사용자 플로우와 UI 컴포넌트가 정상적으로 작동하고 있습니다.

### 테스트된 주요 사용자 시나리오
1. ✅ 비로그인 사용자의 랜딩 페이지 접근 및 로그인 유도
2. ✅ Google OAuth를 통한 로그인 플로우 시작
3. ✅ 인증된 사용자의 프로젝트 생성/조회
4. ✅ 프로젝트 상세 페이지에서 장소 목록 확인
5. ✅ 이미지/텍스트/URL 입력 탭 전환
6. ✅ 프로젝트 공유 링크 생성 및 관리
7. ✅ 공유된 프로젝트 조회 및 복제
8. ✅ 인증 필요 페이지의 접근 제어
